{% extends "base.html" %}
{% block content %}
  <div class="card">
    <div class="card-body">
      <h4>Doctor Dashboard</h4>
      <p>Pending appointment requests:</p>
      {% if appointments %}
        <ul class="list-group">
          {% for a in appointments %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
              Patient ID: {{ a.patient_id }} â€” {{ a.date }} {{ a.time }}
              <div>
                {% if a.status == 'pending' %}
                  <a href="{{ url_for('confirm', appt_id=a.id) }}" class="btn btn-sm btn-success">Confirm</a>
                  <a href="{{ url_for('decline', appt_id=a.id) }}" class="btn btn-sm btn-danger">Decline</a>
                {% else %}
                  <span class="badge bg-secondary">{{ a.status }}</span>
                {% endif %}
              </div>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="text-muted">No appointments yet.</p>
      {% endif %}
    </div>
  </div>
{% endblock %}
